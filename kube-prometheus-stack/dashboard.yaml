#apiVersion: v1
#kind: ConfigMap
#metadata:
#  labels:
#    grafana_dashboard: "1"
#  name: demo-dashboard
#  namespace: prometheus
#data:
#  demo-dashboard.json: |-
#    {
#      "annotations": {
#        "list": [
#          {
#            "builtIn": 1,
#            "datasource": {
#              "type": "datasource",
#              "uid": "grafana"
#            },
#            "enable": true,
#            "hide": true,
#            "iconColor": "rgba(0, 211, 255, 1)",
#            "name": "Annotations & Alerts",
#            "target": {
#              "limit": 100,
#              "matchAny": false,
#              "tags": [],
#              "type": "dashboard"
#            },
#            "type": "dashboard"
#          }
#        ]
#      },
#      "description": "Kafka topics and consumer groups",
#      "editable": true,
#      "fiscalYearStartMonth": 0,
#      "gnetId": 7589,
#      "graphTooltip": 0,
#      "id": 27,
#      "links": [],
#      "liveNow": false,
#      "panels": [
#        {
#          "columns": [],
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "description": "",
#          "fontSize": "100%",
#          "gridPos": {
#            "h": 6,
#            "w": 10,
#            "x": 0,
#            "y": 0
#          },
#          "hideTimeOverride": true,
#          "id": 20,
#          "links": [],
#          "scroll": true,
#          "showHeader": true,
#          "sort": {
#            "col": 0,
#            "desc": false
#          },
#          "styles": [
#            {
#              "$$hashKey": "object:1844",
#              "alias": "Price [USD]",
#              "align": "auto",
#              "colors": [
#                "rgba(245, 54, 54, 0.9)",
#                "rgba(237, 129, 40, 0.89)",
#                "rgba(50, 172, 45, 0.97)"
#              ],
#              "dateFormat": "YYYY-MM-DD HH:mm:ss",
#              "decimals": 5,
#              "mappingType": 1,
#              "pattern": "Value",
#              "thresholds": [],
#              "type": "number",
#              "unit": "short"
#            },
#            {
#              "$$hashKey": "object:1845",
#              "alias": "",
#              "align": "auto",
#              "colors": [
#                "rgba(245, 54, 54, 0.9)",
#                "rgba(237, 129, 40, 0.89)",
#                "rgba(50, 172, 45, 0.97)"
#              ],
#              "decimals": 2,
#              "pattern": "/.*/",
#              "thresholds": [],
#              "type": "number",
#              "unit": "short"
#            }
#          ],
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "avg(storage_costs_per_month_usd) by (region, plan, provider, type)",
#              "format": "table",
#              "instant": true,
#              "intervalFactor": 1,
#              "legendFormat": "{{topic}}",
#              "refId": "A"
#            }
#          ],
#          "title": "Storage cost per month [1GB]",
#          "transform": "table",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true
#                },
#                "indexByName": {},
#                "renameByName": {}
#              }
#            }
#          ],
#          "type": "table-old"
#        },
#        {
#          "columns": [],
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "description": "",
#          "fontSize": "100%",
#          "gridPos": {
#            "h": 6,
#            "w": 10,
#            "x": 10,
#            "y": 0
#          },
#          "hideTimeOverride": true,
#          "id": 24,
#          "links": [],
#          "pageSize": 10,
#          "scroll": true,
#          "showHeader": true,
#          "sort": {
#            "col": 3,
#            "desc": true
#          },
#          "styles": [
#            {
#              "$$hashKey": "object:1247",
#              "alias": "Time",
#              "align": "auto",
#              "dateFormat": "YYYY-MM-DD HH:mm:ss",
#              "pattern": "Time",
#              "type": "date"
#            }
#          ],
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "sum(topics) by (topic_name) ",
#              "format": "table",
#              "instant": true,
#              "intervalFactor": 1,
#              "legendFormat": "{{topic}}",
#              "refId": "A"
#            }
#          ],
#          "title": "AdminClient topic list",
#          "transform": "table",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true,
#                  "Value": true
#                },
#                "indexByName": {},
#                "renameByName": {}
#              }
#            }
#          ],
#          "type": "table-old"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "palette-classic"
#              },
#              "custom": {
#                "axisCenteredZero": false,
#                "axisColorMode": "text",
#                "axisLabel": "",
#                "axisPlacement": "auto",
#                "axisSoftMin": 6,
#                "barAlignment": 0,
#                "drawStyle": "line",
#                "fillOpacity": 0,
#                "gradientMode": "none",
#                "hideFrom": {
#                  "legend": false,
#                  "tooltip": false,
#                  "viz": false
#                },
#                "lineInterpolation": "linear",
#                "lineWidth": 3,
#                "pointSize": 5,
#                "scaleDistribution": {
#                  "type": "linear"
#                },
#                "showPoints": "auto",
#                "spanNulls": false,
#                "stacking": {
#                  "group": "A",
#                  "mode": "none"
#                },
#                "thresholdsStyle": {
#                  "mode": "off"
#                }
#              },
#              "mappings": [],
#              "thresholds": {
#                "mode": "absolute",
#                "steps": [
#                  {
#                    "color": "green",
#                    "value": null
#                  },
#                  {
#                    "color": "red",
#                    "value": 80
#                  }
#                ]
#              }
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 9,
#            "w": 10,
#            "x": 0,
#            "y": 6
#          },
#          "id": 27,
#          "options": {
#            "legend": {
#              "calcs": [],
#              "displayMode": "list",
#              "placement": "right",
#              "showLegend": true
#            },
#            "tooltip": {
#              "mode": "single",
#              "sort": "none"
#            }
#          },
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "kafka_server_brokertopicmetrics_messagesin_total{topic!=\"\"}",
#              "legendFormat": "{{topic}}",
#              "range": true,
#              "refId": "A"
#            }
#          ],
#          "title": "Message per topic",
#          "transformations": [],
#          "type": "timeseries"
#        },
#        {
#          "columns": [],
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fontSize": "100%",
#          "gridPos": {
#            "h": 9,
#            "w": 10,
#            "x": 10,
#            "y": 6
#          },
#          "hideTimeOverride": true,
#          "id": 25,
#          "links": [],
#          "pageSize": 10,
#          "scroll": true,
#          "showHeader": true,
#          "sort": {
#            "col": 1,
#            "desc": false
#          },
#          "styles": [
#            {
#              "$$hashKey": "object:1607",
#              "alias": "Time",
#              "align": "auto",
#              "dateFormat": "YYYY-MM-DD HH:mm:ss",
#              "pattern": "Time",
#              "type": "hidden"
#            },
#            {
#              "$$hashKey": "object:1608",
#              "alias": "Messages",
#              "align": "auto",
#              "colors": [
#                "rgba(245, 54, 54, 0.9)",
#                "rgba(237, 129, 40, 0.89)",
#                "rgba(50, 172, 45, 0.97)"
#              ],
#              "dateFormat": "YYYY-MM-DD HH:mm:ss",
#              "decimals": 0,
#              "mappingType": 1,
#              "pattern": "Value",
#              "thresholds": [],
#              "type": "number",
#              "unit": "none"
#            },
#            {
#              "$$hashKey": "object:1609",
#              "alias": "",
#              "align": "auto",
#              "colors": [
#                "rgba(245, 54, 54, 0.9)",
#                "rgba(237, 129, 40, 0.89)",
#                "rgba(50, 172, 45, 0.97)"
#              ],
#              "decimals": 2,
#              "pattern": "/.*/",
#              "thresholds": [],
#              "type": "number",
#              "unit": "short"
#            }
#          ],
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "sum(kafka_server_brokertopicmetrics_messagesin_total{topic!=\"\"}) by (topic) ",
#              "format": "table",
#              "instant": true,
#              "intervalFactor": 1,
#              "legendFormat": "{{topic}}",
#              "refId": "A"
#            }
#          ],
#          "title": "Messages per topic",
#          "transform": "table",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {},
#                "indexByName": {},
#                "renameByName": {
#                  "Time": "",
#                  "topic": ""
#                }
#              }
#            }
#          ],
#          "type": "table-old"
#        }
#      ],
#      "refresh": false,
#      "schemaVersion": 37,
#      "style": "dark",
#      "tags": [],
#      "templating": {
#        "list": [
#          {
#            "current": {
#              "selected": false,
#              "text": "kafka",
#              "value": "kafka"
#            },
#            "datasource": {
#              "type": "prometheus",
#              "uid": "prometheus"
#            },
#            "definition": "",
#            "hide": 0,
#            "includeAll": false,
#            "label": "Namespace",
#            "multi": false,
#            "name": "kubernetes_namespace",
#            "options": [],
#            "query": {
#              "query": "query_result(kafka_exporter_build_info)",
#              "refId": "Prometheus-kubernetes_namespace-Variable-Query"
#            },
#            "refresh": 1,
#            "regex": "/.*namespace=\"([^\"]*).*/",
#            "skipUrlSync": false,
#            "sort": 0,
#            "tagValuesQuery": "",
#            "tagsQuery": "",
#            "type": "query",
#            "useTags": false
#          },
#          {
#            "current": {
#              "selected": false,
#              "text": "finops",
#              "value": "finops"
#            },
#            "datasource": {
#              "type": "prometheus",
#              "uid": "prometheus"
#            },
#            "definition": "",
#            "hide": 0,
#            "includeAll": false,
#            "label": "Cluster Name",
#            "multi": false,
#            "name": "strimzi_cluster_name",
#            "options": [],
#            "query": {
#              "query": "query_result(kafka_exporter_build_info{namespace=\"$kubernetes_namespace\"})",
#              "refId": "Prometheus-strimzi_cluster_name-Variable-Query"
#            },
#            "refresh": 1,
#            "regex": "/.*strimzi_io_cluster=\"([^\"]*).*/",
#            "skipUrlSync": false,
#            "sort": 0,
#            "tagValuesQuery": "",
#            "tagsQuery": "",
#            "type": "query",
#            "useTags": false
#          },
#          {
#            "current": {
#              "selected": true,
#              "text": [
#                "All"
#              ],
#              "value": [
#                "$__all"
#              ]
#            },
#            "datasource": {
#              "type": "prometheus",
#              "uid": "prometheus"
#            },
#            "definition": "label_values(kafka_consumergroup_current_offset{namespace=\"$kubernetes_namespace\",strimzi_io_cluster=\"$strimzi_cluster_name\"}, consumergroup)",
#            "hide": 0,
#            "includeAll": true,
#            "label": "Consumer Group",
#            "multi": true,
#            "name": "consumergroup",
#            "options": [],
#            "query": {
#              "query": "label_values(kafka_consumergroup_current_offset{namespace=\"$kubernetes_namespace\",strimzi_io_cluster=\"$strimzi_cluster_name\"}, consumergroup)",
#              "refId": "Prometheus-consumergroup-Variable-Query"
#            },
#            "refresh": 1,
#            "regex": "",
#            "skipUrlSync": false,
#            "sort": 1,
#            "tagValuesQuery": "",
#            "type": "query",
#            "useTags": false
#          },
#          {
#            "current": {
#              "selected": true,
#              "text": [
#                "All"
#              ],
#              "value": [
#                "$__all"
#              ]
#            },
#            "datasource": {
#              "type": "prometheus",
#              "uid": "prometheus"
#            },
#            "definition": "label_values(kafka_topic_partition_current_offset{namespace=\"$kubernetes_namespace\",strimzi_io_cluster=\"$strimzi_cluster_name\"}, topic)",
#            "hide": 0,
#            "includeAll": true,
#            "label": "Topic",
#            "multi": true,
#            "name": "topic",
#            "options": [],
#            "query": {
#              "query": "label_values(kafka_topic_partition_current_offset{namespace=\"$kubernetes_namespace\",strimzi_io_cluster=\"$strimzi_cluster_name\"}, topic)",
#              "refId": "Prometheus-topic-Variable-Query"
#            },
#            "refresh": 1,
#            "regex": "",
#            "skipUrlSync": false,
#            "sort": 1,
#            "tagValuesQuery": "",
#            "type": "query",
#            "useTags": false
#          },
#          {
#            "datasource": {
#              "type": "prometheus",
#              "uid": "prometheus"
#            },
#            "filters": [
#              {
#                "condition": "",
#                "key": "topic",
#                "operator": "!=",
#                "value": "__consumer_offsets"
#              }
#            ],
#            "hide": 0,
#            "name": "Filters",
#            "skipUrlSync": false,
#            "type": "adhoc"
#          }
#        ]
#      },
#      "time": {
#        "from": "2023-07-20T14:39:49.832Z",
#        "to": "2023-07-20T15:28:46.111Z"
#      },
#      "timepicker": {
#        "refresh_intervals": [
#          "5s",
#          "10s",
#          "30s",
#          "1m",
#          "5m",
#          "15m",
#          "30m",
#          "1h",
#          "2h",
#          "1d"
#        ],
#        "time_options": [
#          "5m",
#          "15m",
#          "1h",
#          "6h",
#          "12h",
#          "24h",
#          "2d",
#          "7d",
#          "30d"
#        ]
#      },
#      "timezone": "browser",
#      "title": "finops / Finops Demo",
#      "uid": "szsXJ9CVk",
#      "version": 3,
#      "weekStart": ""
#    }
---
#apiVersion: v1
#kind: ConfigMap
#metadata:
#  labels:
#    grafana_dashboard: "1"
#  name: demo2-dashboard
#  namespace: prometheus
#data:
#  demo2-dashboard.json: |-
#    {
#      "annotations": {
#        "list": [
#          {
#            "builtIn": 1,
#            "datasource": {
#              "type": "grafana",
#              "uid": "-- Grafana --"
#            },
#            "enable": true,
#            "hide": true,
#            "iconColor": "rgba(0, 211, 255, 1)",
#            "name": "Annotations & Alerts",
#            "target": {
#              "limit": 100,
#              "matchAny": false,
#              "tags": [],
#              "type": "dashboard"
#            },
#            "type": "dashboard"
#          }
#        ]
#      },
#      "editable": true,
#      "fiscalYearStartMonth": 0,
#      "graphTooltip": 0,
#      "id": 29,
#      "links": [],
#      "liveNow": false,
#      "panels": [
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "palette-classic"
#              },
#              "custom": {
#                "hideFrom": {
#                  "legend": false,
#                  "tooltip": false,
#                  "viz": false
#                }
#              },
#              "mappings": []
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 9,
#            "w": 12,
#            "x": 0,
#            "y": 0
#          },
#          "id": 2,
#          "options": {
#            "legend": {
#              "displayMode": "list",
#              "placement": "right",
#              "showLegend": true,
#              "values": [
#                "percent",
#                "value"
#              ]
#            },
#            "pieType": "pie",
#            "reduceOptions": {
#              "calcs": [
#                "lastNotNull"
#              ],
#              "fields": "",
#              "values": false
#            },
#            "tooltip": {
#              "mode": "single",
#              "sort": "none"
#            }
#          },
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "sum(finops_cost_per_topic_total) by (provider)",
#              "legendFormat": "__auto",
#              "range": true,
#              "refId": "A"
#            },
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "finops_licencing_cost_month",
#              "hide": false,
#              "legendFormat": "__auto",
#              "range": true,
#              "refId": "B"
#            },
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "finops_operational_cost_month",
#              "hide": false,
#              "legendFormat": "__auto",
#              "range": true,
#              "refId": "C"
#            }
#          ],
#          "title": "Global Cost per Month",
#          "transformations": [
#            {
#              "id": "joinByField",
#              "options": {}
#            },
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true,
#                  "{provider=\"aws\"}": false
#                },
#                "indexByName": {},
#                "renameByName": {
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"aws\"}": "Licencing",
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"azure\"}": "Licencing",
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"gcp\"}": "Licencing",
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-aws\"}": "Licencing",
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-azure\"}": "Licencing",
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-gcp\"}": "Licencing",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"aws\"}": "Operations",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"azure\"}": "Operations",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"gcp\"}": "Operations",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-aws\"}": "Operations",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-azure\"}": "Operations",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-gcp\"}": "Operations",
#                  "{provider=\"aws\"}": "Storage",
#                  "{provider=\"azure\"}": "Storage",
#                  "{provider=\"confluent-aws\"}": "Storage",
#                  "{provider=\"confluent-azure\"}": "Storage",
#                  "{provider=\"confluent-gcp\"}": "Storage",
#                  "{provider=\"gcp\"}": "Storage"
#                }
#              }
#            }
#          ],
#          "type": "piechart"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "thresholds"
#              },
#              "custom": {
#                "align": "auto",
#                "displayMode": "auto",
#                "inspect": false
#              },
#              "mappings": [],
#              "thresholds": {
#                "mode": "absolute",
#                "steps": [
#                  {
#                    "color": "green",
#                    "value": null
#                  },
#                  {
#                    "color": "red",
#                    "value": 80
#                  }
#                ]
#              }
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 12,
#            "y": 0
#          },
#          "id": 4,
#          "options": {
#            "footer": {
#              "fields": "",
#              "reducer": [
#                "sum"
#              ],
#              "show": false
#            },
#            "showHeader": true
#          },
#          "pluginVersion": "9.2.1",
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "sum(finops_cost_per_topic_total) by (provider)",
#              "format": "table",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Total Topic Cost (USD)",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true
#                },
#                "indexByName": {},
#                "renameByName": {}
#              }
#            }
#          ],
#          "type": "table"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "palette-classic"
#              },
#              "custom": {
#                "hideFrom": {
#                  "legend": false,
#                  "tooltip": false,
#                  "viz": false
#                }
#              },
#              "mappings": []
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 12,
#            "y": 8
#          },
#          "id": 12,
#          "options": {
#            "legend": {
#              "displayMode": "list",
#              "placement": "right",
#              "showLegend": true,
#              "values": [
#                "percent",
#                "value"
#              ]
#            },
#            "pieType": "pie",
#            "reduceOptions": {
#              "calcs": [
#                "lastNotNull"
#              ],
#              "fields": "",
#              "values": false
#            },
#            "tooltip": {
#              "mode": "single",
#              "sort": "none"
#            }
#          },
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "finops_space_used_per_topic / 1000000",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Topic Space Used (MB)",
#          "transformations": [
#            {
#              "id": "labelsToFields",
#              "options": {
#                "keepLabels": [
#                  "topic"
#                ],
#                "valueLabel": "topic"
#              }
#            }
#          ],
#          "type": "piechart"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "thresholds"
#              },
#              "custom": {
#                "align": "auto",
#                "displayMode": "auto",
#                "inspect": false
#              },
#              "mappings": [],
#              "thresholds": {
#                "mode": "absolute",
#                "steps": [
#                  {
#                    "color": "green",
#                    "value": null
#                  },
#                  {
#                    "color": "red",
#                    "value": 80
#                  }
#                ]
#              }
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 0,
#            "y": 9
#          },
#          "id": 6,
#          "options": {
#            "footer": {
#              "fields": "",
#              "reducer": [
#                "sum"
#              ],
#              "show": false
#            },
#            "showHeader": true
#          },
#          "pluginVersion": "9.2.1",
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "finops_cost_per_topic_per_byte",
#              "format": "table",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Cost per Topic",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true,
#                  "__name__": true,
#                  "instance": true,
#                  "job": true,
#                  "provider": false
#                },
#                "indexByName": {
#                  "Time": 0,
#                  "Value": 6,
#                  "__name__": 1,
#                  "currency": 7,
#                  "instance": 2,
#                  "job": 3,
#                  "provider": 4,
#                  "topic": 5
#                },
#                "renameByName": {}
#              }
#            }
#          ],
#          "type": "table"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "palette-classic"
#              },
#              "custom": {
#                "hideFrom": {
#                  "legend": false,
#                  "tooltip": false,
#                  "viz": false
#                }
#              },
#              "mappings": []
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 12,
#            "y": 16
#          },
#          "id": 14,
#          "options": {
#            "legend": {
#              "displayMode": "list",
#              "placement": "right",
#              "showLegend": true,
#              "values": [
#                "percent",
#                "value"
#              ]
#            },
#            "pieType": "pie",
#            "reduceOptions": {
#              "calcs": [
#                "lastNotNull"
#              ],
#              "fields": "",
#              "values": false
#            },
#            "tooltip": {
#              "mode": "single",
#              "sort": "none"
#            }
#          },
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "finops_cost_per_topic_total",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Total Topic Cost (USD)",
#          "transformations": [
#            {
#              "id": "labelsToFields",
#              "options": {
#                "keepLabels": [
#                  "topic"
#                ],
#                "valueLabel": "topic"
#              }
#            }
#          ],
#          "type": "piechart"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "thresholds"
#              },
#              "custom": {
#                "align": "auto",
#                "displayMode": "auto",
#                "inspect": false
#              },
#              "mappings": [],
#              "thresholds": {
#                "mode": "absolute",
#                "steps": [
#                  {
#                    "color": "green",
#                    "value": null
#                  },
#                  {
#                    "color": "red",
#                    "value": 80
#                  }
#                ]
#              }
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 0,
#            "y": 17
#          },
#          "id": 8,
#          "options": {
#            "footer": {
#              "fields": "",
#              "reducer": [
#                "sum"
#              ],
#              "show": false
#            },
#            "showHeader": true
#          },
#          "pluginVersion": "9.2.1",
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "finops_cost_per_topic_licencing",
#              "format": "table",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Licence Cost per Topic (Evenly Shared)",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true,
#                  "__name__": true,
#                  "instance": true,
#                  "job": true
#                },
#                "indexByName": {
#                  "Time": 0,
#                  "Value": 6,
#                  "__name__": 1,
#                  "currency": 7,
#                  "instance": 2,
#                  "job": 3,
#                  "provider": 4,
#                  "topic": 5
#                },
#                "renameByName": {}
#              }
#            }
#          ],
#          "type": "table"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "thresholds"
#              },
#              "custom": {
#                "align": "auto",
#                "displayMode": "auto",
#                "inspect": false
#              },
#              "mappings": [],
#              "thresholds": {
#                "mode": "absolute",
#                "steps": [
#                  {
#                    "color": "green",
#                    "value": null
#                  },
#                  {
#                    "color": "red",
#                    "value": 80
#                  }
#                ]
#              }
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 0,
#            "y": 25
#          },
#          "id": 10,
#          "options": {
#            "footer": {
#              "fields": "",
#              "reducer": [
#                "sum"
#              ],
#              "show": false
#            },
#            "showHeader": true
#          },
#          "pluginVersion": "9.2.1",
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "finops_cost_per_topic_operational",
#              "format": "table",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Operations Cost per Topic (Evenly Shared)",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true,
#                  "__name__": true,
#                  "instance": true,
#                  "job": true
#                },
#                "indexByName": {
#                  "Time": 0,
#                  "Value": 6,
#                  "__name__": 1,
#                  "currency": 7,
#                  "instance": 2,
#                  "job": 3,
#                  "provider": 4,
#                  "topic": 5
#                },
#                "renameByName": {}
#              }
#            }
#          ],
#          "type": "table"
#        }
#      ],
#      "schemaVersion": 37,
#      "style": "dark",
#      "tags": [],
#      "templating": {
#        "list": [
#          {
#            "datasource": {
#              "type": "prometheus",
#              "uid": "prometheus"
#            },
#            "filters": [
#              {
#                "condition": "",
#                "key": "provider",
#                "operator": "=",
#                "value": "confluent-gcp"
#              }
#            ],
#            "hide": 0,
#            "name": "Filters",
#            "skipUrlSync": false,
#            "type": "adhoc"
#          }
#        ]
#      },
#      "time": {
#        "from": "now-6h",
#        "to": "now"
#      },
#      "timepicker": {},
#      "timezone": "",
#      "title": "finops/ Demo 2 Copy",
#      "uid": "oDol0ReVk",
#      "version": 5,
#      "weekStart": ""
#    }
---
#apiVersion: v1
#kind: ConfigMap
#metadata:
#  labels:
#    grafana_dashboard: "1"
#  name: global-costs-dashboard
#  namespace: prometheus
#data:
#  global-costs-dashboard.json: |-
#    {
#      "annotations": {
#        "list": [
#          {
#            "builtIn": 1,
#            "datasource": {
#              "type": "grafana",
#              "uid": "-- Grafana --"
#            },
#            "enable": true,
#            "hide": true,
#            "iconColor": "rgba(0, 211, 255, 1)",
#            "name": "Annotations & Alerts",
#            "target": {
#              "limit": 100,
#              "matchAny": false,
#              "tags": [],
#              "type": "dashboard"
#            },
#            "type": "dashboard"
#          }
#        ]
#      },
#      "description": "",
#      "editable": true,
#      "fiscalYearStartMonth": 0,
#      "graphTooltip": 0,
#      "links": [],
#      "liveNow": false,
#      "panels": [
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "description": "",
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "thresholds"
#              },
#              "mappings": [],
#              "thresholds": {
#                "mode": "absolute",
#                "steps": [
#                  {
#                    "color": "green",
#                    "value": null
#                  },
#                  {
#                    "color": "red",
#                    "value": 80
#                  }
#                ]
#              }
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 0,
#            "y": 0
#          },
#          "id": 6,
#          "options": {
#            "colorMode": "value",
#            "graphMode": "area",
#            "justifyMode": "auto",
#            "orientation": "auto",
#            "reduceOptions": {
#              "calcs": [
#                "lastNotNull"
#              ],
#              "fields": "",
#              "values": false
#            },
#            "textMode": "auto"
#          },
#          "pluginVersion": "9.2.1",
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "sum(finops_cost_per_topic_total)",
#              "format": "table",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Total global costs",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {},
#                "indexByName": {},
#                "renameByName": {
#                  "sum(finops_cost_per_topic_total{provider=\"azure\", business_model=\"SAAS_CONFLUENT\"})": "Global costs"
#                }
#              }
#            }
#          ],
#          "type": "stat"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "palette-classic"
#              },
#              "custom": {
#                "hideFrom": {
#                  "legend": false,
#                  "tooltip": false,
#                  "viz": false
#                }
#              },
#              "mappings": []
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 12,
#            "y": 0
#          },
#          "id": 4,
#          "options": {
#            "displayLabels": [],
#            "legend": {
#              "displayMode": "table",
#              "placement": "right",
#              "showLegend": true,
#              "values": [
#                "percent",
#                "value"
#              ]
#            },
#            "pieType": "pie",
#            "reduceOptions": {
#              "calcs": [
#                "lastNotNull"
#              ],
#              "fields": "",
#              "values": false
#            },
#            "tooltip": {
#              "mode": "single",
#              "sort": "none"
#            }
#          },
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "sum(finops_cost_per_topic_licencing)",
#              "legendFormat": "Licencing",
#              "range": true,
#              "refId": "A"
#            },
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "sum(finops_cost_per_topic_operational)",
#              "hide": false,
#              "legendFormat": "Operational",
#              "range": true,
#              "refId": "B"
#            },
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "sum(finops_cost_per_topic_per_byte)",
#              "hide": false,
#              "legendFormat": "Storage",
#              "range": true,
#              "refId": "D"
#            },
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "sum(finops_partition_cost_month)",
#              "format": "time_series",
#              "hide": false,
#              "legendFormat": "Partitions",
#              "range": true,
#              "refId": "E"
#            },
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "sum(finops_egress_network_cost_per_month_estimate) + sum(finops_ingress_network_cost_per_month_estimate)",
#              "format": "time_series",
#              "hide": false,
#              "instant": false,
#              "legendFormat": "Network",
#              "range": true,
#              "refId": "C"
#            }
#          ],
#          "title": "Global costs by component",
#          "type": "piechart"
#        }
#      ],
#      "schemaVersion": 37,
#      "style": "dark",
#      "tags": [],
#      "templating": {
#        "list": [
#          {
#            "datasource": {
#              "type": "prometheus",
#              "uid": "prometheus"
#            },
#            "filters": [
#              {
#                "condition": "",
#                "key": "provider",
#                "operator": "=",
#                "value": "azure"
#              },
#              {
#                "condition": "",
#                "key": "business_model",
#                "operator": "=",
#                "value": "SAAS_CONFLUENT"
#              }
#            ],
#            "hide": 0,
#            "name": "Filters",
#            "skipUrlSync": false,
#            "type": "adhoc"
#          }
#        ]
#      },
#      "time": {
#        "from": "now-6h",
#        "to": "now"
#      },
#      "timepicker": {},
#      "timezone": "",
#      "title": "_Kafka Finops Global Costs View",
#      "uid": "xHfVsx6Vz",
#      "version": 1,
#      "weekStart": ""
#    }
---
apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    grafana_dashboard: "1"
  name: cost-center-detailed-dashboard
  namespace: prometheus
data:
  cost-center-detailed-dashboard.json: |-
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": {
              "type": "grafana",
              "uid": "-- Grafana --"
            },
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "target": {
              "limit": 100,
              "matchAny": false,
              "tags": [],
              "type": "dashboard"
            },
            "type": "dashboard"
          }
        ]
      },
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "gridPos": {
            "h": 4,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 6,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "<p style=\"text-align: center; font-size: 84px\">Cost Center Detailed View </p>",
            "mode": "html"
          },
          "pluginVersion": "9.2.1",
          "transparent": true,
          "type": "text"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 2,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "suffix:USD"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 7,
            "w": 24,
            "x": 0,
            "y": 4
          },
          "id": 2,
          "options": {
            "colorMode": "none",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(finops_cost_per_topic_total{business_model=\"$BusinessModel\", availability_zones=\"$AvailabilityZones\", provider=\"$Provider\"})",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Total unit cost",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "displayMode": "auto",
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byType",
                  "options": "number"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "suffix:USD"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Total"
                },
                "properties": [
                  {
                    "id": "decimals",
                    "value": 2
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 11
          },
          "id": 4,
          "options": {
            "footer": {
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "frameIndex": 3,
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(finops_cost_per_topic_licencing{provider=\"$Provider\", availability_zones=\"$AvailabilityZones\", business_model=\"$BusinessModel\"})",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Licencing"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(finops_cost_per_topic_operational{provider=\"$Provider\", availability_zones=\"$AvailabilityZones\", business_model=\"$BusinessModel\"})",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Operational"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(finops_cost_per_partition{provider=\"$Provider\", availability_zones=\"$AvailabilityZones\", business_model=\"$BusinessModel\"})",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Partition"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(finops_cost_per_topic_per_byte{provider=\"$Provider\", availability_zones=\"$AvailabilityZones\", business_model=\"$BusinessModel\"})",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Storage"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_egress_network_cost_per_month_estimate{provider=\"$Provider\", availability_zones=\"$AvailabilityZones\", business_model=\"$BusinessModel\"} + \nfinops_ingress_network_cost_per_month_estimate{provider=\"$Provider\", availability_zones=\"$AvailabilityZones\", business_model=\"$BusinessModel\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "Network",
              "range": false,
              "refId": "Network"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_total{provider=\"$Provider\", availability_zones=\"$AvailabilityZones\", business_model=\"$BusinessModel\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Total"
            }
          ],
          "title": "Detailed Costs View",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value #Licencing": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Network": {
                    "aggregations": [
                      "firstNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Operational": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Partition": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Storage": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Total": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "business_model": {
                    "aggregations": []
                  },
                  "business_unit": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "provider": {
                    "aggregations": []
                  },
                  "topic": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "__name__ 1": true,
                  "__name__ 2": true,
                  "__name__ 3": true,
                  "__name__ 4": true,
                  "availability_zones 1": true,
                  "availability_zones 2": true,
                  "availability_zones 3": true,
                  "availability_zones 4": true,
                  "availability_zones 5": true,
                  "business_model 1": true,
                  "business_model 2": true,
                  "business_model 3": true,
                  "business_model 4": true,
                  "business_model 5": true,
                  "business_unit": true,
                  "business_unit 2": true,
                  "business_unit 3": true,
                  "business_unit 4": true,
                  "business_unit 5": true,
                  "currency 1": true,
                  "currency 2": true,
                  "currency 3": true,
                  "currency 4": true,
                  "currency 5": true,
                  "instance 1": true,
                  "instance 2": true,
                  "instance 3": true,
                  "instance 4": true,
                  "instance 5": true,
                  "job 1": true,
                  "job 2": true,
                  "job 3": true,
                  "job 4": true,
                  "job 5": true,
                  "provider 1": true,
                  "provider 2": true,
                  "provider 3": true,
                  "provider 4": true,
                  "provider 5": true,
                  "topic 2": true,
                  "topic 3": true,
                  "topic 4": true,
                  "topic 5": true
                },
                "indexByName": {
                  "Value #Licencing (sum)": 3,
                  "Value #Network (firstNotNull)": 7,
                  "Value #Operational (sum)": 4,
                  "Value #Partition (sum)": 5,
                  "Value #Storage (sum)": 6,
                  "Value #Total (sum)": 2,
                  "business_unit": 0,
                  "topic": 1
                },
                "renameByName": {
                  "Value #A": "Licencing",
                  "Value #B": "Operational",
                  "Value #D": "Partitions",
                  "Value #Licencing": "Licencing",
                  "Value #Licencing (sum)": "Licencing",
                  "Value #Network": "Network",
                  "Value #Network (firstNotNull)": "Network",
                  "Value #Network (sum)": "Network",
                  "Value #Operational": "Operational",
                  "Value #Operational (sum)": "Operational",
                  "Value #Partition": "Partition",
                  "Value #Partition (sum)": "Partition",
                  "Value #Storage": "Storage",
                  "Value #Storage (sum)": "Storage",
                  "Value #Total (sum)": "Total",
                  "business_unit": "Business Unit",
                  "business_unit 1": "Business Unit",
                  "job 4": "",
                  "topic": "Topic",
                  "topic 1": "Topic"
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "desc": true,
                    "field": "Total"
                  }
                ]
              }
            }
          ],
          "type": "table"
        }
      ],
      "refresh": false,
      "schemaVersion": 37,
      "style": "dark",
      "tags": [
        "kafka-finops"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "selected": false,
              "text": "gcp",
              "value": "gcp"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, provider)",
            "hide": 0,
            "includeAll": false,
            "label": "Provider",
            "multi": false,
            "name": "Provider",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, provider)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": false,
              "text": "SAAS_CONFLUENT",
              "value": "SAAS_CONFLUENT"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, business_model)",
            "hide": 0,
            "includeAll": false,
            "label": "Business Model",
            "multi": false,
            "name": "BusinessModel",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, business_model)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": false,
              "text": "3",
              "value": "3"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, availability_zones)",
            "hide": 0,
            "includeAll": false,
            "label": "Availability Zones",
            "multi": false,
            "name": "AvailabilityZones",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, availability_zones)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "filters": [
              {
                "condition": "",
                "key": "business_unit",
                "operator": "=",
                "value": "Asset_Management"
              }
            ],
            "hide": 0,
            "label": "Filter",
            "name": "BusinessUnits",
            "skipUrlSync": false,
            "type": "adhoc"
          }
        ]
      },
      "time": {
        "from": "now-5m",
        "to": "now"
      },
      "timepicker": {},
      "timezone": "",
      "title": "_Kafka Finops Cost Center Detailed View",
      "uid": "AdEOOWzIk",
      "version": 1,
      "weekStart": ""
    }
---
apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    grafana_dashboard: "1"
  name: global-cost-center-dashboard
  namespace: prometheus
data:
  global-cost-center-dashboard.json: |
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": {
              "type": "grafana",
              "uid": "-- Grafana --"
            },
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "target": {
              "limit": 100,
              "matchAny": false,
              "tags": [],
              "type": "dashboard"
            },
            "type": "dashboard"
          }
        ]
      },
      "description": "View entire kafka cluster expenses and business units contributing to it",
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "gridPos": {
            "h": 4,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 12,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "<p style=\"text-align: center; font-size: 84px\">Global Cost Center View </p>",
            "mode": "html"
          },
          "pluginVersion": "9.2.1",
          "transparent": true,
          "type": "text"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "decimals": 2,
              "mappings": [],
              "unit": "USD"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "__NA__"
                },
                "properties": [
                  {
                    "id": "displayName",
                    "value": "Unassigned"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 11,
            "w": 10,
            "x": 0,
            "y": 4
          },
          "id": 4,
          "options": {
            "displayLabels": [
              "name",
              "value"
            ],
            "legend": {
              "displayMode": "list",
              "placement": "right",
              "showLegend": true,
              "values": [
                "percent"
              ]
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by(business_unit) (finops_cost_per_topic_total{business_model=\"$businessModel\", provider=\"$provider\", availability_zones=\"$az\"})",
              "format": "heatmap",
              "instant": true,
              "interval": "",
              "legendFormat": "__auto",
              "range": false,
              "refId": "Get total cost for business units"
            }
          ],
          "title": "Business Unit total costs",
          "transformations": [],
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "left",
                "displayMode": "auto",
                "filterable": false,
                "inspect": false,
                "minWidth": 100
              },
              "decimals": 2,
              "mappings": [
                {
                  "options": {
                    "__NA__": {
                      "index": 0,
                      "text": "Unassigned topics"
                    }
                  },
                  "type": "value"
                }
              ],
              "noValue": "0",
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "USD"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 14,
            "x": 10,
            "y": 4
          },
          "id": 6,
          "options": {
            "footer": {
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "frameIndex": 0,
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_licencing{business_model=\"$businessModel\", provider=\"$provider\", availability_zones=\"$az\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "__auto",
              "range": false,
              "refId": "Get Licencing Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_operational{business_model=\"$businessModel\", provider=\"$provider\", availability_zones=\"$az\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Get Operational Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_partition{business_model=\"$businessModel\", provider=\"$provider\", availability_zones=\"$az\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Get Partition Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_egress_network_cost_per_month_estimate{business_model=\"$businessModel\", provider=\"$provider\", availability_zones=\"$az\"} + finops_ingress_network_cost_per_month_estimate{business_model=\"$businessModel\", provider=\"$provider\", availability_zones=\"$az\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Get Network Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_per_byte{business_model=\"$businessModel\", provider=\"$provider\", availability_zones=\"$az\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Get Storage Cost"
            }
          ],
          "title": "Monthly costs breakup",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value #Get Licencing Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Get Network Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Get Operational Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Get Partition Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Get Storage Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "business_unit": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "joinByField",
              "options": {
                "byField": "business_unit",
                "mode": "outer"
              }
            },
            {
              "id": "calculateField",
              "options": {
                "alias": "",
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "Value #Get Licencing Cost (sum)",
                    "Value #Get Operational Cost (sum)",
                    "Value #Get Partition Cost (sum)",
                    "Value #Get Network Cost (sum)",
                    "Value #Get Storage Cost (sum)"
                  ],
                  "reducer": "sum"
                },
                "replaceFields": false
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "__name__": true,
                  "business_model": true,
                  "currency (first)": false,
                  "instance": true,
                  "job": true,
                  "provider": true,
                  "topic": true
                },
                "indexByName": {
                  "Total": 1,
                  "Value #Get Licencing Cost (sum)": 2,
                  "Value #Get Network Cost (sum)": 6,
                  "Value #Get Operational Cost (sum)": 3,
                  "Value #Get Partition Cost (sum)": 4,
                  "Value #Get Storage Cost (sum)": 5,
                  "business_unit": 0
                },
                "renameByName": {
                  "Total": "",
                  "Value #Get Licencing Cost": "Licencing Cost",
                  "Value #Get Licencing Cost (first)": "Licencing Cost",
                  "Value #Get Licencing Cost (sum)": "Licencing Cost",
                  "Value #Get Network Cost (firstNotNull)": "Networking Cost",
                  "Value #Get Network Cost (sum)": "Networking Cost",
                  "Value #Get Operational Cost": "Operational Cost",
                  "Value #Get Operational Cost (sum)": "Operational Cost",
                  "Value #Get Partition Cost": "Partitions Cost",
                  "Value #Get Partition Cost (sum)": "Partition Cost",
                  "Value #Get Storage Cost (sum)": "Storage Cost",
                  "business_unit": "Business Unit",
                  "currency (first)": "Currency"
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "desc": true,
                    "field": "Total"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "description": "Topics that are not associated with any known business units",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "displayMode": "auto",
                "filterable": false,
                "inspect": false
              },
              "mappings": [
                {
                  "options": {
                    "__NA__": {
                      "index": 0,
                      "text": "Unassigned Topics"
                    }
                  },
                  "type": "value"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 7,
            "w": 10,
            "x": 0,
            "y": 15
          },
          "id": 8,
          "options": {
            "footer": {
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "builder",
              "exemplar": false,
              "expr": "finops_cost_per_topic_total{business_model=\"$businessModel\", provider=\"$provider\", business_unit=\"__NA__\"}",
              "format": "table",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "Get Business Units"
            }
          ],
          "title": "Unassigned Topics",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "business_unit": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "topic": {
                    "aggregations": [
                      "uniqueValues"
                    ],
                    "operation": "aggregate"
                  }
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "business_unit": true
                },
                "indexByName": {},
                "renameByName": {
                  "business_unit": "Business Unit",
                  "topic (uniqueValues)": "Topics"
                }
              }
            },
            {
              "id": "convertFieldType",
              "options": {
                "conversions": [
                  {
                    "destinationType": "string",
                    "targetField": "Topics"
                  }
                ],
                "fields": {}
              }
            }
          ],
          "type": "table"
        }
      ],
      "schemaVersion": 37,
      "style": "dark",
      "tags": [
        "kafka-finops"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "selected": false,
              "text": "gcp",
              "value": "gcp"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, provider)",
            "hide": 0,
            "includeAll": false,
            "label": "Provider",
            "multi": false,
            "name": "provider",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, provider)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": false,
              "text": "SAAS_CONFLUENT",
              "value": "SAAS_CONFLUENT"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, business_model)",
            "hide": 0,
            "includeAll": false,
            "label": "Business Model",
            "multi": false,
            "name": "businessModel",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, business_model)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": false,
              "text": "3",
              "value": "3"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, availability_zones)",
            "hide": 0,
            "includeAll": false,
            "label": "Availability Zone",
            "multi": false,
            "name": "az",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, availability_zones)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          }
        ]
      },
      "time": {
        "from": "now-6h",
        "to": "now"
      },
      "timepicker": {},
      "timezone": "",
      "title": "_Kafka Finops Global Cost Center View",
      "uid": "YytPGBRSkj",
      "version": 1,
      "weekStart": ""
    }
---
#apiVersion: v1
#kind: ConfigMap
#metadata:
#  labels:
#    grafana_dashboard: "1"
#  name: demo2-dashboard
#  namespace: prometheus
#data:
#  demo2-dashboard.json: |-
#    {
#      "annotations": {
#        "list": [
#          {
#            "builtIn": 1,
#            "datasource": {
#              "type": "grafana",
#              "uid": "-- Grafana --"
#            },
#            "enable": true,
#            "hide": true,
#            "iconColor": "rgba(0, 211, 255, 1)",
#            "name": "Annotations & Alerts",
#            "target": {
#              "limit": 100,
#              "matchAny": false,
#              "tags": [],
#              "type": "dashboard"
#            },
#            "type": "dashboard"
#          }
#        ]
#      },
#      "editable": true,
#      "fiscalYearStartMonth": 0,
#      "graphTooltip": 0,
#      "id": 29,
#      "links": [],
#      "liveNow": false,
#      "panels": [
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "palette-classic"
#              },
#              "custom": {
#                "hideFrom": {
#                  "legend": false,
#                  "tooltip": false,
#                  "viz": false
#                }
#              },
#              "mappings": []
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 9,
#            "w": 12,
#            "x": 0,
#            "y": 0
#          },
#          "id": 2,
#          "options": {
#            "legend": {
#              "displayMode": "list",
#              "placement": "right",
#              "showLegend": true,
#              "values": [
#                "percent",
#                "value"
#              ]
#            },
#            "pieType": "pie",
#            "reduceOptions": {
#              "calcs": [
#                "lastNotNull"
#              ],
#              "fields": "",
#              "values": false
#            },
#            "tooltip": {
#              "mode": "single",
#              "sort": "none"
#            }
#          },
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "sum(finops_cost_per_topic_total) by (provider)",
#              "legendFormat": "__auto",
#              "range": true,
#              "refId": "A"
#            },
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "finops_licencing_cost_month",
#              "hide": false,
#              "legendFormat": "__auto",
#              "range": true,
#              "refId": "B"
#            },
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "expr": "finops_operational_cost_month",
#              "hide": false,
#              "legendFormat": "__auto",
#              "range": true,
#              "refId": "C"
#            }
#          ],
#          "title": "Global Cost per Month",
#          "transformations": [
#            {
#              "id": "joinByField",
#              "options": {}
#            },
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true,
#                  "{provider=\"aws\"}": false
#                },
#                "indexByName": {},
#                "renameByName": {
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"aws\"}": "Licencing",
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"azure\"}": "Licencing",
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"gcp\"}": "Licencing",
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-aws\"}": "Licencing",
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-azure\"}": "Licencing",
#                  "{__name__=\"finops_licencing_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-gcp\"}": "Licencing",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"aws\"}": "Operations",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"azure\"}": "Operations",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"BYO_CONFLUENT\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"gcp\"}": "Operations",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-aws\"}": "Operations",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-azure\"}": "Operations",
#                  "{__name__=\"finops_operational_cost_month\", business_model=\"SAAS\", currency=\"USD\", instance=\"10.96.241.38:8080\", job=\"octopus\", provider=\"confluent-gcp\"}": "Operations",
#                  "{provider=\"aws\"}": "Storage",
#                  "{provider=\"azure\"}": "Storage",
#                  "{provider=\"confluent-aws\"}": "Storage",
#                  "{provider=\"confluent-azure\"}": "Storage",
#                  "{provider=\"confluent-gcp\"}": "Storage",
#                  "{provider=\"gcp\"}": "Storage"
#                }
#              }
#            }
#          ],
#          "type": "piechart"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "thresholds"
#              },
#              "custom": {
#                "align": "auto",
#                "displayMode": "auto",
#                "inspect": false
#              },
#              "mappings": [],
#              "thresholds": {
#                "mode": "absolute",
#                "steps": [
#                  {
#                    "color": "green",
#                    "value": null
#                  },
#                  {
#                    "color": "red",
#                    "value": 80
#                  }
#                ]
#              }
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 12,
#            "y": 0
#          },
#          "id": 4,
#          "options": {
#            "footer": {
#              "fields": "",
#              "reducer": [
#                "sum"
#              ],
#              "show": false
#            },
#            "showHeader": true
#          },
#          "pluginVersion": "9.2.1",
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "sum(finops_cost_per_topic_total) by (provider)",
#              "format": "table",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Total Topic Cost (USD)",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true
#                },
#                "indexByName": {},
#                "renameByName": {}
#              }
#            }
#          ],
#          "type": "table"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "palette-classic"
#              },
#              "custom": {
#                "hideFrom": {
#                  "legend": false,
#                  "tooltip": false,
#                  "viz": false
#                }
#              },
#              "mappings": []
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 12,
#            "y": 8
#          },
#          "id": 12,
#          "options": {
#            "legend": {
#              "displayMode": "list",
#              "placement": "right",
#              "showLegend": true,
#              "values": [
#                "percent",
#                "value"
#              ]
#            },
#            "pieType": "pie",
#            "reduceOptions": {
#              "calcs": [
#                "lastNotNull"
#              ],
#              "fields": "",
#              "values": false
#            },
#            "tooltip": {
#              "mode": "single",
#              "sort": "none"
#            }
#          },
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "finops_space_used_per_topic / 1000000",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Topic Space Used (MB)",
#          "transformations": [
#            {
#              "id": "labelsToFields",
#              "options": {
#                "keepLabels": [
#                  "topic"
#                ],
#                "valueLabel": "topic"
#              }
#            }
#          ],
#          "type": "piechart"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "thresholds"
#              },
#              "custom": {
#                "align": "auto",
#                "displayMode": "auto",
#                "inspect": false
#              },
#              "mappings": [],
#              "thresholds": {
#                "mode": "absolute",
#                "steps": [
#                  {
#                    "color": "green",
#                    "value": null
#                  },
#                  {
#                    "color": "red",
#                    "value": 80
#                  }
#                ]
#              }
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 0,
#            "y": 9
#          },
#          "id": 6,
#          "options": {
#            "footer": {
#              "fields": "",
#              "reducer": [
#                "sum"
#              ],
#              "show": false
#            },
#            "showHeader": true
#          },
#          "pluginVersion": "9.2.1",
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "finops_cost_per_topic_per_byte",
#              "format": "table",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Cost per Topic",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true,
#                  "__name__": true,
#                  "instance": true,
#                  "job": true,
#                  "provider": false
#                },
#                "indexByName": {
#                  "Time": 0,
#                  "Value": 6,
#                  "__name__": 1,
#                  "currency": 7,
#                  "instance": 2,
#                  "job": 3,
#                  "provider": 4,
#                  "topic": 5
#                },
#                "renameByName": {}
#              }
#            }
#          ],
#          "type": "table"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "palette-classic"
#              },
#              "custom": {
#                "hideFrom": {
#                  "legend": false,
#                  "tooltip": false,
#                  "viz": false
#                }
#              },
#              "mappings": []
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 12,
#            "y": 16
#          },
#          "id": 14,
#          "options": {
#            "legend": {
#              "displayMode": "list",
#              "placement": "right",
#              "showLegend": true,
#              "values": [
#                "percent",
#                "value"
#              ]
#            },
#            "pieType": "pie",
#            "reduceOptions": {
#              "calcs": [
#                "lastNotNull"
#              ],
#              "fields": "",
#              "values": false
#            },
#            "tooltip": {
#              "mode": "single",
#              "sort": "none"
#            }
#          },
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "finops_cost_per_topic_total",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Total Topic Cost (USD)",
#          "transformations": [
#            {
#              "id": "labelsToFields",
#              "options": {
#                "keepLabels": [
#                  "topic"
#                ],
#                "valueLabel": "topic"
#              }
#            }
#          ],
#          "type": "piechart"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "thresholds"
#              },
#              "custom": {
#                "align": "auto",
#                "displayMode": "auto",
#                "inspect": false
#              },
#              "mappings": [],
#              "thresholds": {
#                "mode": "absolute",
#                "steps": [
#                  {
#                    "color": "green",
#                    "value": null
#                  },
#                  {
#                    "color": "red",
#                    "value": 80
#                  }
#                ]
#              }
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 0,
#            "y": 17
#          },
#          "id": 8,
#          "options": {
#            "footer": {
#              "fields": "",
#              "reducer": [
#                "sum"
#              ],
#              "show": false
#            },
#            "showHeader": true
#          },
#          "pluginVersion": "9.2.1",
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "finops_cost_per_topic_licencing",
#              "format": "table",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Licence Cost per Topic (Evenly Shared)",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true,
#                  "__name__": true,
#                  "instance": true,
#                  "job": true
#                },
#                "indexByName": {
#                  "Time": 0,
#                  "Value": 6,
#                  "__name__": 1,
#                  "currency": 7,
#                  "instance": 2,
#                  "job": 3,
#                  "provider": 4,
#                  "topic": 5
#                },
#                "renameByName": {}
#              }
#            }
#          ],
#          "type": "table"
#        },
#        {
#          "datasource": {
#            "type": "prometheus",
#            "uid": "prometheus"
#          },
#          "fieldConfig": {
#            "defaults": {
#              "color": {
#                "mode": "thresholds"
#              },
#              "custom": {
#                "align": "auto",
#                "displayMode": "auto",
#                "inspect": false
#              },
#              "mappings": [],
#              "thresholds": {
#                "mode": "absolute",
#                "steps": [
#                  {
#                    "color": "green",
#                    "value": null
#                  },
#                  {
#                    "color": "red",
#                    "value": 80
#                  }
#                ]
#              }
#            },
#            "overrides": []
#          },
#          "gridPos": {
#            "h": 8,
#            "w": 12,
#            "x": 0,
#            "y": 25
#          },
#          "id": 10,
#          "options": {
#            "footer": {
#              "fields": "",
#              "reducer": [
#                "sum"
#              ],
#              "show": false
#            },
#            "showHeader": true
#          },
#          "pluginVersion": "9.2.1",
#          "targets": [
#            {
#              "datasource": {
#                "type": "prometheus",
#                "uid": "prometheus"
#              },
#              "editorMode": "code",
#              "exemplar": false,
#              "expr": "finops_cost_per_topic_operational",
#              "format": "table",
#              "instant": true,
#              "legendFormat": "__auto",
#              "range": false,
#              "refId": "A"
#            }
#          ],
#          "title": "Operations Cost per Topic (Evenly Shared)",
#          "transformations": [
#            {
#              "id": "organize",
#              "options": {
#                "excludeByName": {
#                  "Time": true,
#                  "__name__": true,
#                  "instance": true,
#                  "job": true
#                },
#                "indexByName": {
#                  "Time": 0,
#                  "Value": 6,
#                  "__name__": 1,
#                  "currency": 7,
#                  "instance": 2,
#                  "job": 3,
#                  "provider": 4,
#                  "topic": 5
#                },
#                "renameByName": {}
#              }
#            }
#          ],
#          "type": "table"
#        }
#      ],
#      "schemaVersion": 37,
#      "style": "dark",
#      "tags": [],
#      "templating": {
#        "list": [
#          {
#            "datasource": {
#              "type": "prometheus",
#              "uid": "prometheus"
#            },
#            "filters": [
#              {
#                "condition": "",
#                "key": "provider",
#                "operator": "=",
#                "value": "confluent-gcp"
#              }
#            ],
#            "hide": 0,
#            "name": "Filters",
#            "skipUrlSync": false,
#            "type": "adhoc"
#          }
#        ]
#      },
#      "time": {
#        "from": "now-6h",
#        "to": "now"
#      },
#      "timepicker": {},
#      "timezone": "",
#      "title": "finops/ Demo 2 Copy",
#      "uid": "oDol0ReVk",
#      "version": 5,
#      "weekStart": ""
#    }
---
apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    grafana_dashboard: "1"
  name: global-costs-comparison-dashboard
  namespace: prometheus
data:
  global-costs-comparison-dashboard.json: |
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": {
              "type": "grafana",
              "uid": "-- Grafana --"
            },
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "target": {
              "limit": 100,
              "matchAny": false,
              "tags": [],
              "type": "dashboard"
            },
            "type": "dashboard"
          }
        ]
      },
      "description": "",
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 12,
          "panels": [],
          "title": "Current Configuration (Business Model = $CurrentBusinessModel, Provider = $CurrentProvider , Availability Zone = $currentAZ )",
          "type": "row"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "text",
                "mode": "fixed"
              },
              "decimals": 2,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "USD"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 10,
            "x": 0,
            "y": 1
          },
          "id": 6,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "firstNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "auto"
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum(finops_cost_per_topic_total{business_model=\"$CurrentBusinessModel\", provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"})",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Calculate total Cost"
            }
          ],
          "title": "Total cost",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {},
                "renameByName": {
                  "sum(finops_cost_per_topic_total{provider=\"azure\", business_model=\"SAAS_CONFLUENT\"})": "Global costs"
                }
              }
            }
          ],
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "decimals": 2,
              "mappings": [],
              "unit": "USD"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 14,
            "x": 10,
            "y": 1
          },
          "id": 14,
          "options": {
            "displayLabels": [
              "name"
            ],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "values": [
                "value",
                "percent"
              ]
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "firstNotNull"
              ],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(finops_cost_per_topic_licencing{business_model=\"$CurrentBusinessModel\", provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"})",
              "format": "time_series",
              "hide": false,
              "instant": true,
              "interval": "",
              "legendFormat": "Licencing Cost",
              "range": false,
              "refId": "Total Licencing Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum(finops_cost_per_topic_operational{business_model=\"$CurrentBusinessModel\", provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"})",
              "hide": false,
              "instant": true,
              "legendFormat": "Operational Cost",
              "range": false,
              "refId": "Total Operational Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum(finops_cost_per_topic_per_byte{business_model=\"$CurrentBusinessModel\", provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"})",
              "hide": false,
              "instant": true,
              "legendFormat": "Storage Cost",
              "range": false,
              "refId": "Total Storage Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum(finops_cost_per_partition{business_model=\"$CurrentBusinessModel\", provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"})",
              "hide": false,
              "instant": true,
              "legendFormat": "Partitions Cost",
              "range": false,
              "refId": "Total Partition Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum(finops_egress_network_cost_per_month_estimate{business_model=\"$CurrentBusinessModel\", provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"}) + sum(finops_ingress_network_cost_per_month_estimate{business_model=\"$CurrentBusinessModel\", provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"})",
              "hide": false,
              "instant": true,
              "legendFormat": "Networking Cost",
              "range": false,
              "refId": "Total Networking Cost"
            }
          ],
          "title": "Cost breakup",
          "transformations": [],
          "type": "piechart"
        },
        {
          "collapsed": false,
          "gridPos": {
            "h": 1,
            "w": 24,
            "x": 0,
            "y": 11
          },
          "id": 10,
          "panels": [],
          "title": "Alternative Cost Models",
          "type": "row"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "USD",
                "axisPlacement": "auto",
                "fillOpacity": 65,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1,
                "scaleDistribution": {
                  "type": "linear"
                }
              },
              "decimals": 2,
              "mappings": [
                {
                  "options": {
                    "BYO_CONFLUENT": {
                      "index": 0,
                      "text": "Confluent"
                    },
                    "SAAS_CONFLUENT": {
                      "index": 1,
                      "text": "Confluent Cloud"
                    }
                  },
                  "type": "value"
                }
              ],
              "noValue": "0",
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 12,
            "x": 0,
            "y": 12
          },
          "id": 18,
          "options": {
            "barRadius": 0,
            "barWidth": 0.8,
            "groupWidth": 0.8,
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "orientation": "vertical",
            "showValue": "always",
            "stacking": "none",
            "text": {
              "valueSize": 12
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            },
            "xField": "business_model",
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 200
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_licencing{provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "Licencing Cost",
              "range": false,
              "refId": "Licencing Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_operational{availability_zones=\"$currentAZ\", provider=\"$CurrentProvider\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "Operational Cost",
              "range": false,
              "refId": "Operational Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_per_byte{provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "Storage Cost",
              "range": false,
              "refId": "Storage Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "builder",
              "exemplar": false,
              "expr": "finops_cost_per_partition{provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "Partition Cost",
              "range": false,
              "refId": "Partition Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_egress_network_cost_per_month_estimate{provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"} +\nfinops_ingress_network_cost_per_month_estimate{provider=\"$CurrentProvider\", availability_zones=\"$currentAZ\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "Networking Cost",
              "range": false,
              "refId": "Networking Cost"
            }
          ],
          "title": "Business Model Options",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value #Licencing Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Networking Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Operational Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Partition Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Storage Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "business_model": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "topic": {
                    "aggregations": [
                      "sum"
                    ]
                  }
                }
              }
            },
            {
              "id": "joinByField",
              "options": {
                "byField": "business_model",
                "mode": "inner"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time 1": true,
                  "Time 2": true,
                  "Time 3": true,
                  "Time 4": true,
                  "Time 5": true,
                  "__name__ 1": true,
                  "__name__ 2": true,
                  "__name__ 3": true,
                  "__name__ 4": true,
                  "__name__ 5": true,
                  "availability_zones 1": true,
                  "availability_zones 2": true,
                  "availability_zones 3": true,
                  "availability_zones 4": true,
                  "availability_zones 5": true,
                  "business_model": false,
                  "business_unit 1": true,
                  "business_unit 2": true,
                  "business_unit 3": true,
                  "business_unit 4": true,
                  "business_unit 5": true,
                  "currency 1": true,
                  "currency 2": true,
                  "currency 3": true,
                  "currency 4": true,
                  "currency 5": true,
                  "instance 1": true,
                  "instance 2": true,
                  "instance 3": true,
                  "instance 4": true,
                  "instance 5": true,
                  "job 1": true,
                  "job 2": true,
                  "job 3": true,
                  "job 4": true,
                  "job 5": true,
                  "provider 1": true,
                  "provider 2": true,
                  "provider 3": true,
                  "provider 4": true,
                  "provider 5": true,
                  "topic 1": true,
                  "topic 2": true,
                  "topic 3": true,
                  "topic 4": true,
                  "topic 5": true
                },
                "indexByName": {},
                "renameByName": {
                  "Value #Licencing Cost": "Licencing Cost",
                  "Value #Licencing Cost (lastNotNull)": "Licencing Cost",
                  "Value #Licencing Cost (sum)": "Licencing Cost",
                  "Value #Networking Cost": "Networking Cost",
                  "Value #Networking Cost (sum)": "Networking Cost",
                  "Value #Operational Cost": "Operational Cost",
                  "Value #Operational Cost (sum)": "Operational Cost",
                  "Value #Partition Cost": "Partition Cost",
                  "Value #Partition Cost (sum)": "Partition Cost",
                  "Value #Storage Cost": "Storage Cost",
                  "Value #Storage Cost (sum)": "Storage Cost",
                  "Value #Total Cost": "Total Cost"
                }
              }
            }
          ],
          "type": "barchart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "USD",
                "axisPlacement": "auto",
                "fillOpacity": 80,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1,
                "scaleDistribution": {
                  "type": "linear"
                }
              },
              "decimals": 2,
              "mappings": [
                {
                  "options": {
                    "1": {
                      "index": 0,
                      "text": "Avalaibility Zone 1"
                    },
                    "2": {
                      "index": 1,
                      "text": "Avalaibility Zone 2"
                    },
                    "3": {
                      "index": 2,
                      "text": "Avalaibility Zone 3"
                    }
                  },
                  "type": "value"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 12,
            "x": 12,
            "y": 12
          },
          "id": 16,
          "options": {
            "barRadius": 0,
            "barWidth": 0.8,
            "groupWidth": 0.8,
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "orientation": "vertical",
            "showValue": "auto",
            "stacking": "none",
            "text": {
              "valueSize": 12
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            },
            "xField": "availability_zones",
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 200
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_licencing{business_model=\"$CurrentBusinessModel\", provider=\"$CurrentProvider\"}",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Licencing Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_operational{business_model=\"$CurrentBusinessModel\",provider=\"$CurrentProvider\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Operational Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_per_byte{business_model=\"$CurrentBusinessModel\",provider=\"$CurrentProvider\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Storage Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_partition{business_model=\"$CurrentBusinessModel\",provider=\"$CurrentProvider\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Partition Cost"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_egress_network_cost_per_month_estimate{business_model=\"$CurrentBusinessModel\",provider=\"$CurrentProvider\"} + finops_ingress_network_cost_per_month_estimate{business_model=\"$CurrentBusinessModel\",provider=\"$CurrentProvider\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Networking Cost"
            }
          ],
          "title": "Availability Zones Options",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value #Licencing Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Networking Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Operational Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Partition Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Storage Cost": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "availability_zones": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "joinByField",
              "options": {
                "byField": "availability_zones",
                "mode": "outer"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time 1": true,
                  "Time 2": true,
                  "Time 3": true,
                  "Time 4": true,
                  "Time 5": true,
                  "__name__ 1": true,
                  "__name__ 2": true,
                  "__name__ 3": true,
                  "__name__ 4": true,
                  "availability_zones": false,
                  "business_model 1": true,
                  "business_model 2": true,
                  "business_model 3": true,
                  "business_model 4": true,
                  "business_model 5": true,
                  "business_unit 1": true,
                  "business_unit 2": true,
                  "business_unit 3": true,
                  "business_unit 4": true,
                  "business_unit 5": true,
                  "currency 1": true,
                  "currency 2": true,
                  "currency 3": true,
                  "currency 4": true,
                  "currency 5": true,
                  "instance 1": true,
                  "instance 2": true,
                  "instance 3": true,
                  "instance 4": true,
                  "instance 5": true,
                  "job 1": true,
                  "job 2": true,
                  "job 3": true,
                  "job 4": true,
                  "job 5": true,
                  "provider 1": true,
                  "provider 2": true,
                  "provider 3": true,
                  "provider 4": true,
                  "provider 5": true,
                  "topic 1": true,
                  "topic 2": true,
                  "topic 3": true,
                  "topic 4": true,
                  "topic 5": true
                },
                "indexByName": {},
                "renameByName": {
                  "Value #Licencing Cost": "Licencing Cost",
                  "Value #Licencing Cost (lastNotNull)": "Licencing Cost",
                  "Value #Licencing Cost (sum)": "Licencing Cost",
                  "Value #Networking Cost": "Networking Cost",
                  "Value #Networking Cost (lastNotNull)": "Networking Cost",
                  "Value #Networking Cost (sum)": "Networking Cost",
                  "Value #Operational Cost": "Operational Cost",
                  "Value #Operational Cost (lastNotNull)": "Operational Cost",
                  "Value #Operational Cost (sum)": "Operational Cost",
                  "Value #Partition Cost": "Partition Cost",
                  "Value #Partition Cost (lastNotNull)": "Partition Cost",
                  "Value #Partition Cost (sum)": "Partition Cost",
                  "Value #Storage Cost": "Storage Cost",
                  "Value #Storage Cost (lastNotNull)": "Storage Cost",
                  "Value #Storage Cost (sum)": "Storage Cost"
                }
              }
            }
          ],
          "type": "barchart"
        }
      ],
      "schemaVersion": 37,
      "style": "dark",
      "tags": [
        "kafka-finops"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "selected": false,
              "text": "gcp",
              "value": "gcp"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, provider)",
            "hide": 2,
            "includeAll": false,
            "label": "",
            "multi": false,
            "name": "CurrentProvider",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, provider)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": false,
              "text": "SAAS_CONFLUENT",
              "value": "SAAS_CONFLUENT"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, business_model)",
            "hide": 2,
            "includeAll": false,
            "label": "",
            "multi": false,
            "name": "CurrentBusinessModel",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, business_model)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": true,
              "text": [
                "aws"
              ],
              "value": [
                "aws"
              ]
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_cost_per_topic_total,provider)",
            "hide": 2,
            "includeAll": false,
            "multi": true,
            "name": "availableProviders",
            "options": [],
            "query": {
              "query": "label_values(finops_cost_per_topic_total,provider)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": false,
              "text": "BYO_CONFLUENT",
              "value": "BYO_CONFLUENT"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_cost_per_topic_total,business_model)",
            "hide": 2,
            "includeAll": false,
            "multi": false,
            "name": "availableBusinessModels",
            "options": [],
            "query": {
              "query": "label_values(finops_cost_per_topic_total,business_model)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": true,
              "text": [
                "3"
              ],
              "value": [
                "3"
              ]
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, availability_zones)",
            "hide": 2,
            "includeAll": false,
            "multi": true,
            "name": "currentAZ",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, availability_zones)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          }
        ]
      },
      "time": {
        "from": "now-24h",
        "to": "now"
      },
      "timepicker": {},
      "timezone": "",
      "title": "_Kafka Finops Global Costs Comparison",
      "uid": "xHfVsx6Vx",
      "version": 1,
      "weekStart": ""
    }
---
apiVersion: v1
kind: ConfigMap
metadata:
  labels:
    grafana_dashboard: "1"
  name: detailed-information-dashboard
  namespace: prometheus
data:
  detailed-information-dashboard.json: |
    {
      "annotations": {
        "list": [
          {
            "builtIn": 1,
            "datasource": {
              "type": "grafana",
              "uid": "-- Grafana --"
            },
            "enable": true,
            "hide": true,
            "iconColor": "rgba(0, 211, 255, 1)",
            "name": "Annotations & Alerts",
            "target": {
              "limit": 100,
              "matchAny": false,
              "tags": [],
              "type": "dashboard"
            },
            "type": "dashboard"
          }
        ]
      },
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "gridPos": {
            "h": 4,
            "w": 24,
            "x": 0,
            "y": 0
          },
          "id": 10,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "<p style=\"text-align: center; font-size: 84px\">Detailed Information View</p>",
            "mode": "html"
          },
          "pluginVersion": "9.2.1",
          "transparent": true,
          "type": "text"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 2,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "suffix:USD"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 24,
            "x": 0,
            "y": 4
          },
          "id": 8,
          "options": {
            "colorMode": "none",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "textMode": "value"
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(finops_cost_per_topic_total{business_model=\"$BusinessModel\", provider=\"$Provider\",availability_zones=\"$AvailabilityZones\"})",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Total Monthly Topic Costs",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "displayMode": "auto",
                "inspect": false
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Business Unit"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Business Unit Detailed Dashboard",
                        "url": "http://localhost:30030/d/AdEOOWzIk/kafka-finops-cost-center-detailed-view?orgId=1&var-Provider=${Provider}&var-BusinessModel=${BusinessModel}﻿﻿&var-AvailabilityZones=3&var-BusinessUnits=business_unit%7C%3D%7C${__value.text}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byType",
                  "options": "number"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "suffix:USD"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Total"
                },
                "properties": [
                  {
                    "id": "decimals",
                    "value": 2
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 9
          },
          "id": 4,
          "links": [],
          "options": {
            "footer": {
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "frameIndex": 3,
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_licencing{provider=\"$Provider\", business_model=\"$BusinessModel\", availability_zones=\"$AvailabilityZones\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Licencing"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_operational{provider=\"$Provider\", business_model=\"$BusinessModel\", availability_zones=\"$AvailabilityZones\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Operational"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_partition{provider=\"$Provider\", business_model=\"$BusinessModel\", availability_zones=\"$AvailabilityZones\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Partition"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_per_byte{provider=\"$Provider\", business_model=\"$BusinessModel\", availability_zones=\"$AvailabilityZones\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Storage"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_egress_network_cost_per_month_estimate{provider=\"$Provider\", business_model=\"$BusinessModel\", availability_zones=\"$AvailabilityZones\"} + finops_ingress_network_cost_per_month_estimate{provider=\"$Provider\", business_model=\"$BusinessModel\", availability_zones=\"$AvailabilityZones\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "Network",
              "range": false,
              "refId": "Network"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "finops_cost_per_topic_total{provider=\"$Provider\", business_model=\"$BusinessModel\", availability_zones=\"$AvailabilityZones\"}",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Total"
            }
          ],
          "title": "Detailed Topic Costs View",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value #Licencing": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Network": {
                    "aggregations": [
                      "firstNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Operational": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Partition": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Storage": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Total": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "business_model": {
                    "aggregations": []
                  },
                  "business_unit": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "provider": {
                    "aggregations": []
                  },
                  "topic": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "__name__ 1": true,
                  "__name__ 2": true,
                  "__name__ 3": true,
                  "__name__ 4": true,
                  "availability_zones 1": true,
                  "availability_zones 2": true,
                  "availability_zones 3": true,
                  "availability_zones 4": true,
                  "availability_zones 5": true,
                  "business_model 1": true,
                  "business_model 2": true,
                  "business_model 3": true,
                  "business_model 4": true,
                  "business_model 5": true,
                  "business_unit 2": true,
                  "business_unit 3": true,
                  "business_unit 4": true,
                  "business_unit 5": true,
                  "currency 1": true,
                  "currency 2": true,
                  "currency 3": true,
                  "currency 4": true,
                  "currency 5": true,
                  "instance 1": true,
                  "instance 2": true,
                  "instance 3": true,
                  "instance 4": true,
                  "instance 5": true,
                  "job 1": true,
                  "job 2": true,
                  "job 3": true,
                  "job 4": true,
                  "job 5": true,
                  "provider 1": true,
                  "provider 2": true,
                  "provider 3": true,
                  "provider 4": true,
                  "provider 5": true,
                  "topic 2": true,
                  "topic 3": true,
                  "topic 4": true,
                  "topic 5": true
                },
                "indexByName": {
                  "Value #Licencing (sum)": 2,
                  "Value #Network (firstNotNull)": 6,
                  "Value #Operational (sum)": 3,
                  "Value #Partition (sum)": 4,
                  "Value #Storage (sum)": 5,
                  "Value #Total (sum)": 1,
                  "business_unit": 7,
                  "topic": 0
                },
                "renameByName": {
                  "Value #A": "Licencing",
                  "Value #B": "Operational",
                  "Value #D": "Partitions",
                  "Value #Licencing": "Licencing",
                  "Value #Licencing (sum)": "Licencing",
                  "Value #Network": "Network",
                  "Value #Network (firstNotNull)": "Network",
                  "Value #Network (sum)": "Network",
                  "Value #Operational": "Operational",
                  "Value #Operational (sum)": "Operational",
                  "Value #Partition": "Partition",
                  "Value #Partition (sum)": "Partition",
                  "Value #Storage": "Storage",
                  "Value #Storage (sum)": "Storage",
                  "Value #Total (sum)": "Total",
                  "business_unit": "Business Unit",
                  "business_unit 1": "Business Unit",
                  "job 4": "",
                  "topic": "Topic",
                  "topic 1": "Topic"
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "desc": true,
                    "field": "Total"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "displayMode": "auto",
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Total Network Egress"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "suffix:MiB"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Total Network Ingress"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "suffix:MiB"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Total Disk Usage"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "suffix:MiB"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 17
          },
          "id": 6,
          "options": {
            "footer": {
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "frameIndex": 3,
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "9.2.1",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (topic)(kafka_server_brokertopicmetrics_bytesout_total{topic!=\"\"})/1048576",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Network Egress"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (topic)(kafka_server_brokertopicmetrics_bytesin_total{topic!=\"\"})/1048576",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Network Ingress"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (topic)(kafka_log_log_size{topic!=\"\"})/1048576",
              "format": "table",
              "hide": false,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "Disk"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (topic)(kafka_server_brokertopicmetrics_messagesin_total{topic!=\"\"})",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Message Count"
            }
          ],
          "title": "Network / Operational View",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value #Disk": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Message Count": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Network Egress": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Network Ingress": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #Storage": {
                    "aggregations": [
                      "sum"
                    ],
                    "operation": "aggregate"
                  },
                  "availability_zones": {
                    "aggregations": []
                  },
                  "business_model": {
                    "aggregations": []
                  },
                  "business_unit": {
                    "aggregations": []
                  },
                  "partition": {
                    "aggregations": []
                  },
                  "provider": {
                    "aggregations": []
                  },
                  "strimzi_io_pod_name": {
                    "aggregations": []
                  },
                  "topic": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Value #Disk (sum)": "Total Disk Usage",
                  "Value #Message Count (sum)": "Message Count",
                  "Value #Network Egress (sum)": "Total Network Egress",
                  "Value #Network Ingress (sum)": "Total Network Ingress",
                  "Value #Storage (sum)": "Disk",
                  "topic": "Topic"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "refresh": false,
      "schemaVersion": 37,
      "style": "dark",
      "tags": [
        "kafka-finops"
      ],
      "templating": {
        "list": [
          {
            "current": {
              "selected": false,
              "text": "gcp",
              "value": "gcp"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, provider)",
            "hide": 0,
            "includeAll": false,
            "label": "Provider",
            "multi": false,
            "name": "Provider",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, provider)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": false,
              "text": "SAAS_CONFLUENT",
              "value": "SAAS_CONFLUENT"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, business_model)",
            "hide": 0,
            "includeAll": false,
            "label": "Business Model",
            "multi": false,
            "name": "BusinessModel",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, business_model)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          },
          {
            "current": {
              "selected": false,
              "text": "3",
              "value": "3"
            },
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "definition": "label_values(finops_current_provider, availability_zones)",
            "hide": 0,
            "includeAll": false,
            "label": "Availability Zones",
            "multi": false,
            "name": "AvailabilityZones",
            "options": [],
            "query": {
              "query": "label_values(finops_current_provider, availability_zones)",
              "refId": "StandardVariableQuery"
            },
            "refresh": 1,
            "regex": "",
            "skipUrlSync": false,
            "sort": 0,
            "type": "query"
          }
        ]
      },
      "time": {
        "from": "now-5m",
        "to": "now"
      },
      "timepicker": {},
      "timezone": "",
      "title": "_Kafka Finops Detailed Information View",
      "uid": "ZqYH4PRcz",
      "version": 1,
      "weekStart": ""
    }